<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Archivos ‚Äî Layout tipo "archivoseladio"</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;700;800&family=IBM+Plex+Mono:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    :root{ --bg:#000; --text:#eaeaea; --muted:#a7a7a7; --border:rgba(255,255,255,.08); }
    html,body{height:100%;margin:0;background:#000;color:var(--text);font-family:"Space Grotesk",system-ui;overflow:hidden}

    /* Fondo de pantalla */
    .wallpaper{position:fixed;inset:0;background:#000 url('assets/ultima-bala2.jpeg') center/cover no-repeat;filter:brightness(.95)}

    /* Dock izquierdo */
    .dock{position:fixed;left:10px;top:50%;transform:translateY(-50%);display:grid;gap:14px;z-index:20}
    .dock__item{display:grid;justify-items:center;gap:6px;color:#dcdcdc;text-shadow:0 2px 6px rgba(0,0,0,.7)}
    .dock__item button{width:46px;height:46px;border-radius:12px;border:0;display:grid;place-items:center;background:rgba(20,20,20,.4);backdrop-filter:blur(6px);box-shadow:0 3px 10px rgba(0,0,0,.35);cursor:pointer;border:1px solid rgba(255,255,255,.08)}
    .dock__item img{width:28px;height:28px;filter:drop-shadow(0 2px 6px rgba(0,0,0,.7))}
    .dock__item small{font-size:12px;opacity:.9}

    /* Logo central */
    .title{position:fixed;left:90px;top:46%;transform:translateY(-50%);z-index:10}
    .title h1{margin:0;font-size:56px;line-height:.9;color:#fff;text-shadow:0 2px 0 #000, 0 10px 30px rgba(0,0,0,.8)}
    .title .jp{margin-top:6px;font-size:20px;letter-spacing:.2em;color:#fff;opacity:.95}

    /* Barra inferior */
    .taskbar{position:fixed;left:0;right:0;bottom:0;height:42px;background:rgba(15,15,15,.88);backdrop-filter:blur(8px);border-top:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;padding:0 10px;z-index:30}
    .task{padding:6px 12px;border-radius:6px;border:1px solid var(--border);background:#0b0b0b}
    .clock{font-family:"IBM Plex Mono",monospace;color:#cfcfcf}
    .status{display:flex;align-items:center;gap:8px}
    .status-icon{width:18px;height:18px;display:block;border-radius:4px;filter:drop-shadow(0 2px 6px rgba(0,0,0,.5));opacity:.95}

    /* Ventanas */
    .window{position:fixed;left:50%;top:16%;transform:translateX(-50%);width:720px;height:520px;background:#0b0b0b;border:1px solid var(--border);border-radius:10px;box-shadow:0 22px 80px rgba(0,0,0,.7);display:none;grid-template-rows:auto 1fr;z-index:40;overflow:hidden}
    .window__head{display:flex;align-items:center;justify-content:space-between;padding:10px 12px;border-bottom:1px solid var(--border);background:#101010}
    .window__body{padding:0;overflow:auto;background:#0e0e0e}
    .icon-btn{border:1px solid var(--border);background:#111;color:#eee;border-radius:8px;padding:6px 8px;cursor:pointer}

    /* Tabs */
    .tabs{display:flex;background:#111;border-bottom:1px solid var(--border);}
    .tab{background:#202020;color:#fff;border:0;padding:8px 14px;cursor:pointer;font-family:"IBM Plex Mono",monospace;border-right:1px solid var(--border)}
    .tab.active{background:#b90000}
    .tab:hover{background:#2b2b2b}
    .tab-content{padding:8px;height:100%;overflow:auto;background:#0e0e0e}
    .tab-panel{display:none}
    .tab-panel.active{display:block}

    /* Tabla archivos */
    .file-table{width:100%;border-collapse:collapse;margin-top:8px;font-size:14px}
    .file-table th,.file-table td{border-bottom:1px solid var(--border);padding:6px 8px;text-align:left}
    .file-table td:first-child{color:#ff5555}

    /* Galer√≠a */
    .gallery{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;grid-auto-rows:92px}
    .thumb{width:100%;height:100%;border:1px solid rgba(255,255,255,.12);border-radius:6px;background:#151515;object-fit:cover}

    /* LIGHTBOX */
    #lightbox{position:fixed;inset:0;display:none;place-items:center;background:rgba(0,0,0,.92);z-index:1000;}
    #lightbox.open{display:grid;}
    #lightbox img{max-width:90vw;max-height:85vh;border-radius:12px;box-shadow:0 30px 120px rgba(0,0,0,.6);}
    .lb-btn{position:absolute;border:1px solid rgba(255,255,255,.15);background:rgba(20,20,20,.6);color:#fff;cursor:pointer;padding:10px 12px;border-radius:10px;backdrop-filter:blur(6px);}
    .lb-close{top:14px;right:14px}
    .lb-prev{left:14px;top:50%;transform:translateY(-50%)}
    .lb-next{right:14px;top:50%;transform:translateY(-50%)}
    #lb-caption{position:absolute;left:0;right:0;bottom:16px;text-align:center;color:#ddd;font-family:"IBM Plex Mono",monospace;font-size:14px;text-shadow:0 2px 8px rgba(0,0,0,.7);}

    /* INFO/CMD */
    .info-pre{white-space:pre-wrap;margin:12px;padding:12px;border:1px solid var(--border);border-radius:8px;background:#0e0e0e;font-family:"IBM Plex Mono",monospace;line-height:1.4;color:#ddd}
    .cmd{margin:8px;border:1px solid var(--border);border-radius:8px;background:#070707;overflow:hidden}
    .cmd__title{background:#0f0f0f;padding:8px 10px;border-bottom:1px solid var(--border);font-family:"IBM Plex Mono",monospace;color:#cfcfcf}
    .cmd__screen{padding:12px;height:260px;overflow:auto;font-family:"IBM Plex Mono",monospace;background:#000;color:#8cff8c}
    .cmd__line{display:flex;gap:8px;align-items:center;padding:10px;background:#050505;border-top:1px solid var(--border);font-family:"IBM Plex Mono",monospace}
    .cmd__prompt{color:#5cff5c}
    .cmd__input{flex:1;background:#0a0a0a;color:#e6ffe6;border:1px solid #1f3f1f;border-radius:6px;padding:8px 10px;outline:none}
    .cmd__hint{color:#7aa37a;font-size:12px;margin:6px 10px 10px 12px}
  </style>
</head>
<body>
  <div class="wallpaper"></div>

  <!-- Dock -->
  <nav class="dock">
    <div class="dock__item"><button data-open="#win-archivos"><img src="assets/icons8-carpeta-compartida-50.png" alt="Archivos"></button><small>Archivos‚Ä¶</small></div>
    <div class="dock__item"><button data-open="#win-ldcsounds"><img src="assets/icons8-musical-50.png" alt="LDC Sounds"></button><small>LDC Sounds</small></div>
    <div class="dock__item"><button data-open="#win-info"><img src="assets/icons8-bloc-50.png" alt="Info"></button><small>Info</small></div>
    <div class="dock__item"><button data-open="#win-galeria"><img src="assets/icons8-carpeta-compartida-50.png" alt="Galer√≠a"></button><small>Galer√≠a</small></div>
  </nav>

  <!-- Logo central -->
  <div class="title">
    <h1>LOS DUE√ëOS DE LA CITY</h1>
    <div class="jp">ÈÉΩÂ∏Ç„ÅÆÊâÄÊúâËÄÖ</div>
  </div>

  <!-- Barra inferior -->
  <div class="taskbar">
    <div class="task">üìÅ LDC1FAMILY</div>
    <div class="status">
      <img class="status-icon" src="assets/icons8-bluetooth-2-50.png" alt="Bluetooth" title="Bluetooth"/>
      <img class="status-icon" src="assets/icons8-wi-fi-conectado-50.png" alt="Wi‚ÄëFi conectado" title="Wi‚ÄëFi conectado"/>
      <div class="clock" id="clock">00:00</div>
    </div>
  </div>

  <!-- Archivos -->
  <section class="window" id="win-archivos">
    <div class="window__head"><strong>Archivos LDC</strong><button class="icon-btn" data-close>‚úñ</button></div>
    <div class="window__body">
      <div class="tabs" data-tabs="#archivos-tabs">
        <button class="tab active" data-tab="kbrn">LOS DUE√ëOS DE LA CITY</button>
        <button class="tab" data-tab="files">Galer√≠a LDC</button>
        <button class="tab" onclick="window.open('https://www.youtube.com/@chate33','_blank')">Youtube</button>
      </div>
      <div id="archivos-tabs" class="tab-content">
        <div class="tab-panel active" data-panel="kbrn">
          <table class="file-table">
            <thead><tr><th>File</th><th>Play</th><th>Type</th><th>User</th><th>Status</th></tr></thead>
            <tbody id="tbl-kbrn"></tbody>
          </table>
        </div>
        <div class="tab-panel" data-panel="files">
          <div class="gallery">
            <img class="thumb" src="./assets/creando-la-idea.jpeg" alt="Creando la idea">
            <img class="thumb" src="./assets/enmusado.jpeg" alt="Enmusado">
            <img class="thumb" src="./assets/corrigiendo-la-idea.jpeg" alt="Corrigiendo la idea">
            <img class="thumb" src="./assets/azotea.jpeg" alt="Azotea">
            <img class="thumb" src="./assets/estudio-exterior.jpeg" alt="Estudio exterior">
            <img class="thumb" src="./assets/graffiti.jpeg" alt="Graffiti">
            <img class="thumb" src="./assets/grupo-rojo.jpeg" alt="Grupo rojo">
            <img class="thumb" src="./assets/humo-rojo.jpeg" alt="Humo rojo">
            <img class="thumb" src="./assets/outfit.jpeg" alt="Outfit">
            <img class="thumb" src="./assets/aurora.jpeg" alt="Aurora">
            <img class="thumb" src="./assets/ultima-bala2.jpeg" alt="Ultima bala2">
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- LDC Sounds -->
  <section class="window" id="win-ldcsounds">
    <div class="window__head"><strong>LDC Sounds</strong><button class="icon-btn" data-close>‚úñ</button></div>
    <div class="window__body">
      <div id="ldc-sounds"></div>
      <audio id="player" controls style="width:100%;margin:8px;display:block"></audio>
    </div>
  </section>

  <!-- INFO (Mensaje + CMD) -->
  <section class="window" id="win-info">
    <div class="window__head"><strong>Info</strong><button class="icon-btn" data-close>‚úñ</button></div>
    <div class="window__body">
      <div class="tabs" data-tabs="#info-tabs">
        <button class="tab active" data-tab="msg">Mensaje</button>
        <button class="tab" data-tab="cmd">CMD</button>
      </div>
      <div id="info-tabs" class="tab-content">
        <div class="tab-panel active" data-panel="msg">
<pre class="info-pre">"MUCHA$ GRACIA$ CHATE33 X DARME LA OPORTUNIDAD DE LABURAR CON VO$"
"E$TO E$ $IN TURREO A MEDIA$ COMPA..."
"ATT: MATEO EN LOS FX'S COMPA PRRRAAAA"
"@maateo.rom (ig) ‚Äî @mattt.ldc (ig de mis laburos)"
</pre>
        </div>
        <div class="tab-panel" data-panel="cmd">
          <div class="cmd">
            <div class="cmd__title">LDC CMD ‚Äî Validaci√≥n de fechas (10/11/2025 a 30/11/2025)</div>
            <div id="term-out" class="cmd__screen">LDC&gt; escrib√≠ una fecha en formato DD/MM/AAAA y presion√° ENTER.</div>
            <div class="cmd__line">
              <span class="cmd__prompt">LDC&gt;</span>
              <input id="term-input" class="cmd__input" type="text" placeholder="dd/mm/2025" autocomplete="off">
            </div>
            <div class="cmd__hint">Rango v√°lido: 10/11/2025 ‚Äî 30/11/2025 ¬∑ Comandos: <code>help</code>, <code>clear</code></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Galer√≠a (ventana separada) -->
  <section class="window" id="win-galeria">
    <div class="window__head"><strong>Galer√≠a LDC</strong><button class="icon-btn" data-close>‚úñ</button></div>
    <div class="window__body">
      <div class="tabs" data-tabs="#galeria-tabs">
        <button class="tab" data-tab="kbrn">LOS DUE√ëOS DE LA CITY</button>
        <button class="tab active" data-tab="gal">Galer√≠a LDC</button>
        <button class="tab" onclick="window.open('https://www.youtube.com/@chate33','_blank')">Youtube</button>
      </div>
      <div id="galeria-tabs" class="tab-content">
        <div class="tab-panel" data-panel="kbrn">
          <table class="file-table">
            <thead><tr><th>File</th><th>Play</th><th>Type</th><th>User</th><th>Status</th></tr></thead>
            <tbody id="tbl-kbrn-dup"></tbody>
          </table>
        </div>
        <div class="tab-panel active" data-panel="gal">
          <div class="gallery">
            <img class="thumb" src="./assets/creando-la-idea.jpeg" alt="Creando la idea">
            <img class="thumb" src="./assets/enmusado.jpeg" alt="Enmusado">
            <img class="thumb" src="./assets/corrigiendo-la-idea.jpeg" alt="Corrigiendo la idea">
            <img class="thumb" src="./assets/azotea.jpeg" alt="Azotea">
            <img class="thumb" src="./assets/estudio-exterior.jpeg" alt="Estudio exterior">
            <img class="thumb" src="./assets/graffiti.jpeg" alt="Graffiti">
            <img class="thumb" src="./assets/grupo-rojo.jpeg" alt="Grupo rojo">
            <img class="thumb" src="./assets/humo-rojo.jpeg" alt="Humo rojo">
            <img class="thumb" src="./assets/outfit.jpeg" alt="Outfit">
            <img class="thumb" src="./assets/aurora.jpeg" alt="Aurora">
            <img class="thumb" src="./assets/ultima-bala2.jpeg" alt="Ultima bala2">
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- LIGHTBOX -->
  <div id="lightbox" aria-hidden="true">
    <button class="lb-btn lb-close" aria-label="Cerrar">‚úñ</button>
    <button class="lb-btn lb-prev" aria-label="Anterior">‚ùÆ</button>
    <img id="lb-img" alt="">
    <div id="lb-caption"></div>
    <button class="lb-btn lb-next" aria-label="Siguiente">‚ùØ</button>
  </div>

  <script>
  // ==================== RELOJ ====================
  const clk=document.getElementById('clock');
  const up=()=>{const d=new Date();clk.textContent=d.toLocaleTimeString([], {hour:'2-digit',minute:'2-digit'});};
  up();setInterval(up,1000);

  // ==================== VENTANAS ====================
  function openWin(sel){
    document.querySelectorAll('.window').forEach(w=>w.style.display='none');
    const w=document.querySelector(sel);
    if(w){w.style.display='grid';}
  }
  document.querySelectorAll('[data-close]').forEach(b=>b.addEventListener('click',()=>b.closest('.window').style.display='none'));

  // ==================== DOCK ====================
  document.querySelectorAll('[data-open]').forEach(b=>{
    b.addEventListener('click',()=>{
      const sel=b.getAttribute('data-open');
      openWin(sel);
      if(sel==='#win-galeria'){
        const tabsHeader=document.querySelector('.tabs[data-tabs="#galeria-tabs"]');
        const content=document.querySelector('#galeria-tabs');
        if(tabsHeader && content){
          tabsHeader.querySelectorAll('.tab').forEach(x=>x.classList.remove('active'));
          content.querySelectorAll('.tab-panel').forEach(p=>p.classList.remove('active'));
          tabsHeader.querySelector('.tab[data-tab="gal"]').classList.add('active');
          content.querySelector('.tab-panel[data-panel="gal"]').classList.add('active');
        }
      }
    });
  });

  // ==================== TABS GEN√âRICO (soluciona "no abre Galer√≠a LDC") ====================
  document.querySelectorAll('.tabs').forEach(tabs=>{
    const content = document.querySelector(tabs.getAttribute('data-tabs'));
    tabs.querySelectorAll('.tab[data-tab]').forEach(btn=>{
      btn.addEventListener('click',()=>{
        tabs.querySelectorAll('.tab').forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        const key = btn.getAttribute('data-tab');
        content.querySelectorAll('.tab-panel').forEach(p=>{
          p.classList.toggle('active', p.getAttribute('data-panel')===key);
        });
      });
    });
  });

  // ==================== LIGHTBOX ====================
  (function(){
    const lb=document.getElementById('lightbox');
    const imgEl=document.getElementById('lb-img');
    const caption=document.getElementById('lb-caption');
    const btnClose=lb.querySelector('.lb-close');
    const btnPrev=lb.querySelector('.lb-prev');
    const btnNext=lb.querySelector('.lb-next');
    const thumbs=[...document.querySelectorAll('#win-archivos .gallery img, #win-galeria .gallery img')];
    if(!thumbs.length) return;
    let i=0;
    const open=(idx)=>{ i=idx; const t=thumbs[i]; imgEl.src=t.src; imgEl.alt=t.alt||''; caption.textContent=`${t.alt||''} (${i+1}/${thumbs.length})`; lb.classList.add('open'); lb.setAttribute('aria-hidden','false'); };
    const close=()=>{ lb.classList.remove('open'); lb.setAttribute('aria-hidden','true'); imgEl.src=''; };
    const next=()=>open((i+1)%thumbs.length);
    const prev=()=>open((i-1+thumbs.length)%thumbs.length);
    thumbs.forEach((t,idx)=>{ t.style.cursor='zoom-in'; t.addEventListener('click',()=>open(idx)); });
    btnClose.addEventListener('click',close); btnNext.addEventListener('click',next); btnPrev.addEventListener('click',prev);
    lb.addEventListener('click',(e)=>{ if(e.target===lb) close(); });
    window.addEventListener('keydown',(e)=>{ if(!lb.classList.contains('open')) return; if(e.key==='Escape') close(); if(e.key==='ArrowRight') next(); if(e.key==='ArrowLeft') prev(); });
  })();

  // ==================== TRACKS Y PLAYER ====================
  const TRACKS = [
    { title: 'AUDIO-2025-11-09-22-27-29.mp3', file: 'assets/AUDIO-2025-11-09-22-27-29.mp3' },
    { title: 'AUDIO-2025-11-09-21-51-07.mp3', file: 'assets/AUDIO-2025-11-09-21-51-07.mp3' },
    { title: 'AUDIO-2025-11-09-22-27-16.mp3', file: 'assets/AUDIO-2025-11-09-22-27-16.mp3' },
  ];

  function renderLdcSounds(){
    const box=document.getElementById('ldc-sounds');
    if(!box) return;
    box.innerHTML = TRACKS.map((t,i)=>`
      <div style="display:flex;align-items:center;gap:10px;padding:8px 10px;border-bottom:1px solid var(--border)">
        <button data-play="${i}" class="icon-btn" title="Reproducir">‚ñ∂</button>
        <a href="${t.file}" download style="color:#ffb3b3;text-decoration:none">${t.title}</a>
      </div>`).join('');
    hookPlayButtons();
  }

  function renderKbrnTable(){
    const tb = document.getElementById('tbl-kbrn');
    if(tb){ tb.innerHTML = TRACKS.map((t,i)=>`
      <tr>
        <td><a href="${t.file}" download style="color:#ff5555;text-decoration:none">${t.title}</a></td>
        <td><button data-play="${i}" class="icon-btn" title="Reproducir">‚ñ∂</button></td>
        <td>Audio</td>
        <td>${Math.floor(20 + Math.random()*80)} Users</td>
        <td>Available</td>
      </tr>`).join(''); }

    const tb2 = document.getElementById('tbl-kbrn-dup');
    if(tb2){ tb2.innerHTML = tb?.innerHTML || '' }

    hookPlayButtons();
  }

  function hookPlayButtons(){
    const audio = document.getElementById('player');
    document.querySelectorAll('[data-play]').forEach(btn=>{
      btn.onclick = ()=>{
        const i = +btn.getAttribute('data-play');
        const t = TRACKS[i];
        if(!audio) return;
        audio.src = t.file;
        audio.play().catch(()=>{});
        openWin('#win-ldcsounds');
      };
    });
  }

  // ==================== CMD INTERACTIVO ====================
  (function(){
    const input = document.getElementById('term-input');
    const out   = document.getElementById('term-out');
    if(!input || !out) return;

    const print = (txt)=>{ const d=document.createElement('div'); d.textContent=txt; out.appendChild(d); out.scrollTop=out.scrollHeight; };
    const parseDate = (s)=>{
      const m = /^(\d{2})\/(\d{2})\/(\d{4})$/.exec(s.trim());
      if(!m) return null; const [_, dd, mm, yyyy] = m; const d = new Date(+yyyy, +mm-1, +dd);
      if(d.getFullYear()!=+yyyy || d.getMonth()!=+mm-1 || d.getDate()!=+dd) return null; return d;
    };

    const from = new Date(2025,10,10); // 10/11/2025
    const to   = new Date(2025,10,30); // 30/11/2025
    const teasers = {10:"TEASER: Intro con humo rojo y voces reversas.",13:"TEASER: 808 grave + clap seco. Visual: pasillo en rojo.",17:"TEASER: Cambio a doble tempo al 00:42.",21:"TEASER: Corte de beat y drop con sirena.",24:"TEASER: Voz de radio filtrada anuncia \"LDC1FAMILY\".",28:"TEASER: Final con glitch y freeze-frame."};

    input.addEventListener('keydown',(e)=>{
      if(e.key!=='Enter') return; const raw=input.value; input.value=''; print(`LDC> ${raw}`);
      const cmd = raw.toLowerCase().trim();
      if(cmd==='help'){ print('Comandos: help ¬∑ clear ¬∑ dd/mm/aaaa'); return; }
      if(cmd==='clear'){ out.textContent='LDC> escrib√≠ una fecha en formato DD/MM/AAAA y presion√° ENTER.'; return; }
      const d = parseDate(raw);
      if(!d){ print('‚úñ Formato inv√°lido. Us√° DD/MM/AAAA. Ej: 17/11/2025'); return; }
      if(d<from || d>to){ print('‚úñ Fuera de rango (v√°lido 10/11/2025 ‚Äî 30/11/2025)'); return; }
      const day=d.getDate(); const mon=String(d.getMonth()+1).padStart(2,'0'); const yr=d.getFullYear();
      print(`‚úî Fecha v√°lida: ${String(day).padStart(2,'0')}/${mon}/${yr}`);
      if(teasers[day]) print(teasers[day]); else print('TEASER: pista reservada... estate atento üëÄ');
    });
  })();

  // Init
  renderLdcSounds();
  renderKbrnTable();
  </script>
</body>
</html>
